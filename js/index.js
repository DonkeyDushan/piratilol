var j=["Mladým: víte, že dokážete rozhodnout volby?","Hnutí ano prostě chce žít v minulosti bez perspektivy.","Boj s korupcí, ne udávání lidí.","Investice do sportu a kultury jsou zárukou zdravé společnosti.","Potřebujeme obnovit rovnováhu přírody!","Byty je třeba stavět, ne danit.","Nejvyšší čas zastavit zadlužování naší země!","udělejme z česka sebevědomého spojence","Místo byrokratického pekla skutečná digitalizace","Staňme se digitálním tygrem!","Veřejné finance průhledně a čistě","Dítě potřebuje náruč jedné pečující osoby!","Politik má sloužit lidem a nutit stát, aby fungoval stejně","Podpořte finančně piráty a starosty","pojďme postavit ekonomiku na nohy","2 % z rozpočtu pro armádu vybojujeme!","kultura si zaslouží 1 % z rozpočtu","na šikaně živnostníků se podílet nebudeme","skutečně digitální stát, na co máme internet?","pojďme zreformovat školství. od základů.","finance řízené podle plánu","vraťme lesům jejich zdraví","1000 korun pro každého seniora z dotací Agrofertu. Ať si pan Babiš platí předvolební dárečky ze svého.","Máme už dost nekonečných korupčních kauz. Po volbách s nimi zatočíme.","Místo jednolitých polí pestrá krajina.","je čas vyrazit pomoci na jižní moravu!"],w=[{url:"https://picsum.photos/800",weight:5},{url:"https://source.unsplash.com/800x800",weight:10},{url:"https://source.unsplash.com/800x800/?communism",weight:3},{url:"https://source.unsplash.com/800x800/?cat",weight:1},{url:"https://source.unsplash.com/800x800/?puppy",weight:1},{url:"https://source.unsplash.com/800x800/?chicken",weight:1},{url:"https://source.unsplash.com/800x800/?angry",weight:3}];var z=(e,a)=>{let n=[];for(;e.length>a;){let o=e.substring(0,a).lastIndexOf(" ");o=o<=0?a:o,n.push(e.substring(0,o));let r=e.indexOf(" ",o)+1;(r<o||r>o+a)&&(r=o),e=e.substring(r)}return n.push(e),n},p=e=>e[Math.floor(Math.random()*e.length)];var L=w.flatMap(({url:e,weight:a})=>Array(a).fill(e)),I=new FileReader,E=new Image;E.src="public/logo.png";var i=new Image,g="Test text",h=async()=>{let e=await fetch(p(L));return new Promise(a=>{let n=new Image;n.addEventListener("load",()=>{i=n,a()}),n.crossOrigin="anonymous",n.src=e.url})},v=()=>{g=p(j)},s=document.getElementById("picture"),t=s.getContext("2d"),x=new FontFace("Bebas Neue","url(public/BebasNeue-Bold.ttf)"),D=async()=>{await x.load(),document.fonts.add(x)},B=e=>{!e.type.startsWith("image/")||I.readAsDataURL(e)};s.addEventListener("dragover",e=>e.preventDefault());s.addEventListener("drop",e=>{e.preventDefault(),!(!e.dataTransfer||e.dataTransfer.files.length<=0)&&B(e.dataTransfer.files[0])});var c=async()=>{t.fillStyle="black",t.fillRect(0,0,s.width,s.height);let e=s.width/i.width,a=s.height/i.height,n=Math.max(e,a);t.setTransform(n,0,0,n,0,0),t.drawImage(i,0,0),t.setTransform(),t.drawImage(E,525,20);let o=z(g,20).reverse(),r=o.length<5?60:40;t.font=`${r}px 'Bebas Neue'`,o.forEach((l,k)=>{let y=30,b=685,u=15,m=u+r;t.fillStyle="#f9dc4d",t.fillRect(y,b-k*m,t.measureText(l).width+2*u,m),t.textBaseline="top",t.fillStyle="black",t.fillText(l,y+u,b+u-k*m)}),I.addEventListener("load",l=>{i=new Image,i.addEventListener("load",()=>c()),i.src=l.target.result})},M=document.getElementById("randomize");M.addEventListener("click",async()=>{v(),await h(),c()});var S=document.getElementById("randomize-img");S.addEventListener("click",async()=>{await h(),c()});var A=document.getElementById("randomize-text");A.addEventListener("click",()=>{v(),c()});var T=document.getElementById("customImage");T.addEventListener("change",e=>{e.preventDefault(),!(e.target.files.length<=0)&&B(e.target.files[0])});var F=document.getElementById("customImageBtn");F.addEventListener("click",()=>{T.click()});var d=document.getElementById("customText"),R=async e=>{(e.type==="input"||d.value)&&(g=d.value,c())};d.addEventListener("click",R);d.addEventListener("input",R);var f=document.createElement("a");f.setAttribute("download","PirStanKampan.jpg");var P=document.getElementById("save");P.addEventListener("click",e=>{e.preventDefault(),f.setAttribute("href",s.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream")),f.click()});D();v();h().then(()=>c());
//# sourceMappingURL=index.js.map
