var T=["Mladým: víte, že dokážete rozhodnout volby?","Hnutí ano prostě chce žít v minulosti bez perspektivy.","Boj s korupcí, ne udávání lidí.","Investice do sportu a kultury jsou zárukou zdravé společnosti.","Potřebujeme obnovit rovnováhu přírody!","Byty je třeba stavět, ne danit.","Nejvyšší čas zastavit zadlužování naší země!","udělejme z česka sebevědomého spojence","Místo byrokratického pekla skutečná digitalizace","Staňme se digitálním tygrem!","Veřejné finance průhledně a čistě","Dítě potřebuje náruč jedné pečující osoby!","Politik má sloužit lidem a nutit stát, aby fungoval stejně","Podpořte finančně piráty a starosty","pojďme postavit ekonomiku na nohy","2 % z rozpočtu pro armádu vybojujeme!","kultura si zaslouží 1 % z rozpočtu","na šikaně živnostníků se podílet nebudeme","skutečně digitální stát, na co máme internet?","pojďme zreformovat školství. od základů.","finance řízené podle plánu","vraťme lesům jejich zdraví","1000 korun pro každého seniora z dotací Agrofertu. Ať si pan Babiš platí předvolební dárečky ze svého.","Máme už dost nekonečných korupčních kauz. Po volbách s nimi zatočíme.","Místo jednolitých polí pestrá krajina.","je čas vyrazit pomoci na jižní moravu!"],B=[{url:"https://picsum.photos/800",weight:5}];var L=(e,a)=>{let n=[];for(;e.length>a;){let o=e.substring(0,a).lastIndexOf(" ");o=o<=0?a:o,n.push(e.substring(0,o));let i=e.indexOf(" ",o)+1;(i<o||i>o+a)&&(i=o),e=e.substring(i)}return n.push(e),n},k=e=>e[Math.floor(Math.random()*e.length)],x=(e,a=6)=>{let n=(s,l,d)=>.2126*s+.7152*l+.0722*d,o=0,i=0;for(let s=0;s<e.length;s+=3*a){let[l,d,g]=[e[s]/255,e[s+1]/255,e[s+2]/255],m=n(l,d,g);Number.isNaN(m)||(o+=m,i+=1)}return o/i};var y=525,b=20,M=.7,N=B.flatMap(({url:e,weight:a})=>Array(a).fill(e)),R=new FileReader,v=new Image;v.src="public/logo-light.png";var A=new Image;A.src="public/logo-dark.png";var c=new Image,I="Test text",j=async()=>{let e=await fetch(k(N));return new Promise(a=>{let n=new Image;n.addEventListener("load",()=>{c=n,a()}),n.crossOrigin="anonymous",n.src=e.url})},z=()=>{I=k(T)},r=document.getElementById("picture"),t=r.getContext("2d"),O=new FontFace("Bebas Neue","url(public/BebasNeue-Bold.ttf)"),C=async()=>{await O.load(),document.fonts.add(O)},S=e=>{!e.type.startsWith("image/")||R.readAsDataURL(e)};r.addEventListener("dragover",e=>e.preventDefault());r.addEventListener("drop",e=>{e.preventDefault(),!(!e.dataTransfer||e.dataTransfer.files.length<=0)&&S(e.dataTransfer.files[0])});var u=async()=>{t.fillStyle="black",t.fillRect(0,0,r.width,r.height);let e=r.width/c.width,a=r.height/c.height,n=Math.max(e,a);t.setTransform(n,0,0,n,0,0),t.drawImage(c,0,0),t.setTransform();let o=t.getImageData(y,b,v.width,v.height).data;x(o)>M?t.drawImage(A,y,b):t.drawImage(v,y,b);let s=L(I,20).reverse(),l=s.length<5?60:40;t.font=`${l}px 'Bebas Neue'`,s.forEach((d,g)=>{let m=30,w=685,p=15,f=p+l;t.fillStyle="#f9dc4d",t.fillRect(m,w-g*f,t.measureText(d).width+2*p,f),t.textBaseline="top",t.fillStyle="black",t.fillText(d,m+p,w+p-g*f)})};R.addEventListener("load",e=>{c=new Image,c.addEventListener("load",()=>u()),c.src=e.target.result});var P=document.getElementById("randomize");P.addEventListener("click",async()=>{z(),await j(),u()});var _=document.getElementById("randomize-img");_.addEventListener("click",async()=>{await j(),u()});var H=document.getElementById("randomize-text");H.addEventListener("click",()=>{z(),u()});var F=document.getElementById("customImage");F.addEventListener("change",e=>{e.preventDefault(),!(e.target.files.length<=0)&&S(e.target.files[0])});var G=document.getElementById("customImageBtn");G.addEventListener("click",()=>{F.click()});var h=document.getElementById("customText"),D=async e=>{(e.type==="input"||h.value)&&(I=h.value,u())};h.addEventListener("click",D);h.addEventListener("input",D);var E=document.createElement("a");E.setAttribute("download","PirStanKampan.jpg");var U=document.getElementById("save");U.addEventListener("click",e=>{e.preventDefault(),E.setAttribute("href",r.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream")),E.click()});C();z();j().then(()=>u());
//# sourceMappingURL=index.js.map
