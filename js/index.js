var x=["Mladým: víte, že dokážete rozhodnout volby?","Hnutí ano prostě chce žít v minulosti bez perspektivy.","Boj s korupcí, ne udávání lidí.","Investice do sportu a kultury jsou zárukou zdravé společnosti.","Potřebujeme obnovit rovnováhu přírody!","Byty je třeba stavět, ne danit.","Nejvyšší čas zastavit zadlužování naší země!","udělejme z česka sebevědomého spojence","Místo byrokratického pekla skutečná digitalizace","Staňme se digitálním tygrem!","Veřejné finance průhledně a čistě","Dítě potřebuje náruč jedné pečující osoby!","Politik má sloužit lidem a nutit stát, aby fungoval stejně","Podpořte finančně piráty a starosty","pojďme postavit ekonomiku na nohy","2 % z rozpočtu pro armádu vybojujeme!","kultura si zaslouží 1 % z rozpočtu","na šikaně živnostníků se podílet nebudeme","skutečně digitální stát, na co máme internet?","pojďme zreformovat školství. od základů.","finance řízené podle plánu","vraťme lesům jejich zdraví","1000 korun pro každého seniora z dotací Agrofertu. Ať si pan Babiš platí předvolební dárečky ze svého.","Máme už dost nekonečných korupčních kauz. Po volbách s nimi zatočíme.","Místo jednolitých polí pestrá krajina.","je čas vyrazit pomoci na jižní moravu!"],T=[{url:"https://picsum.photos/800",weight:5},{url:"https://source.unsplash.com/800x800",weight:10},{url:"https://source.unsplash.com/800x800/?communism",weight:3},{url:"https://source.unsplash.com/800x800/?cat",weight:1},{url:"https://source.unsplash.com/800x800/?puppy",weight:1},{url:"https://source.unsplash.com/800x800/?chicken",weight:1},{url:"https://source.unsplash.com/800x800/?angry",weight:3}];var B=(e,a)=>{let n=[];for(;e.length>a;){let o=e.substring(0,a).lastIndexOf(" ");o=o<=0?a:o,n.push(e.substring(0,o));let i=e.indexOf(" ",o)+1;(i<o||i>o+a)&&(i=o),e=e.substring(i)}return n.push(e),n},k=e=>e[Math.floor(Math.random()*e.length)],L=(e,a=6)=>{let n=(s,l,u)=>.2126*s+.7152*l+.0722*u,o=0,i=0;for(let s=0;s<e.length;s+=3*a){let[l,u,p]=[e[s]/255,e[s+1]/255,e[s+2]/255],m=n(l,u,p);Number.isNaN(m)||(o+=m,i+=1)}return o/i};var y=525,b=20,M=.7,N=T.flatMap(({url:e,weight:a})=>Array(a).fill(e)),R=new FileReader,h=new Image;h.src="public/logo-light.png";var A=new Image;A.src="public/logo-dark.png";var c=new Image,w="Test text",I=async()=>{let e=await fetch(k(N));return new Promise(a=>{let n=new Image;n.addEventListener("load",()=>{c=n,a()}),n.crossOrigin="anonymous",n.src=e.url})},j=()=>{w=k(x)},r=document.getElementById("picture"),t=r.getContext("2d"),O=new FontFace("Bebas Neue","url(public/BebasNeue-Bold.ttf)"),C=async()=>{await O.load(),document.fonts.add(O)},S=e=>{!e.type.startsWith("image/")||R.readAsDataURL(e)};r.addEventListener("dragover",e=>e.preventDefault());r.addEventListener("drop",e=>{e.preventDefault(),!(!e.dataTransfer||e.dataTransfer.files.length<=0)&&S(e.dataTransfer.files[0])});var d=async()=>{t.fillStyle="black",t.fillRect(0,0,r.width,r.height);let e=r.width/c.width,a=r.height/c.height,n=Math.max(e,a);t.setTransform(n,0,0,n,0,0),t.drawImage(c,0,0),t.setTransform();let o=t.getImageData(y,b,h.width,h.height).data;L(o)>M?t.drawImage(A,y,b):t.drawImage(h,y,b);let s=B(w,20).reverse(),l=s.length<5?60:40;t.font=`${l}px 'Bebas Neue'`,s.forEach((u,p)=>{let m=30,E=685,g=15,f=g+l;t.fillStyle="#f9dc4d",t.fillRect(m,E-p*f,t.measureText(u).width+2*g,f),t.textBaseline="top",t.fillStyle="black",t.fillText(u,m+g,E+g-p*f)})};R.addEventListener("load",e=>{c=new Image,c.addEventListener("load",()=>d()),c.src=e.target.result});var P=document.getElementById("randomize");P.addEventListener("click",async()=>{j(),await I(),d()});var _=document.getElementById("randomize-img");_.addEventListener("click",async()=>{await I(),d()});var H=document.getElementById("randomize-text");H.addEventListener("click",()=>{j(),d()});var F=document.getElementById("customImage");F.addEventListener("change",e=>{e.preventDefault(),!(e.target.files.length<=0)&&S(e.target.files[0])});var G=document.getElementById("customImageBtn");G.addEventListener("click",()=>{F.click()});var v=document.getElementById("customText"),D=async e=>{(e.type==="input"||v.value)&&(w=v.value,d())};v.addEventListener("click",D);v.addEventListener("input",D);var z=document.createElement("a");z.setAttribute("download","PirStanKampan.jpg");var U=document.getElementById("save");U.addEventListener("click",e=>{e.preventDefault(),z.setAttribute("href",r.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream")),z.click()});C();j();I().then(()=>d());
//# sourceMappingURL=index.js.map
