var T=["Mladým: víte, že dokážete rozhodnout volby?","Hnutí ano prostě chce žít v minulosti bez perspektivy.","Boj s korupcí, ne udávání lidí.","Investice do sportu a kultury jsou zárukou zdravé společnosti.","Potřebujeme obnovit rovnováhu přírody!","Byty je třeba stavět, ne danit.","Nejvyšší čas zastavit zadlužování naší země!","udělejme z česka sebevědomého spojence","Místo byrokratického pekla skutečná digitalizace","Staňme se digitálním tygrem!","Veřejné finance průhledně a čistě","Dítě potřebuje náruč jedné pečující osoby!","Politik má sloužit lidem a nutit stát, aby fungoval stejně","Podpořte finančně piráty a starosty","pojďme postavit ekonomiku na nohy","2 % z rozpočtu pro armádu vybojujeme!","kultura si zaslouží 1 % z rozpočtu","na šikaně živnostníků se podílet nebudeme","skutečně digitální stát, na co máme internet?","pojďme zreformovat školství. od základů.","finance řízené podle plánu","vraťme lesům jejich zdraví","1000 korun pro každého seniora z dotací Agrofertu. Ať si pan Babiš platí předvolební dárečky ze svého.","Máme už dost nekonečných korupčních kauz. Po volbách s nimi zatočíme.","Místo jednolitých polí pestrá krajina.","je čas vyrazit pomoci na jižní moravu!"],B=[{url:"https://picsum.photos/800",weight:5},{url:"https://source.unsplash.com/800x800",weight:10},{url:"https://source.unsplash.com/800x800/?communism",weight:3},{url:"https://source.unsplash.com/800x800/?cat",weight:1},{url:"https://source.unsplash.com/800x800/?puppy",weight:1},{url:"https://source.unsplash.com/800x800/?chicken",weight:1},{url:"https://source.unsplash.com/800x800/?angry",weight:3}];var L=(e,t)=>{let n=[];for(;e.length>t;){let a=e.substring(0,t).lastIndexOf(" ");a=a<=0?t:a,n.push(e.substring(0,a));let s=e.indexOf(" ",a)+1;(s<a||s>a+t)&&(s=a),e=e.substring(s)}return n.push(e),n},f=e=>e[Math.floor(Math.random()*e.length)],N=(e,t,n)=>.2126*e+.7152*t+.0722*n,x=(e,t)=>{t=t!=null?t:6;let n=0,a=0;for(let s=0;s<e.length;s+=3*t){let u=e[s]/255,d=e[s+1]/255,m=e[s+2]/255,l=N(u,d,m);isNaN(l)||(n+=l,a++)}return n/a};var y=525,k=20,C=.7,P=B.flatMap(({url:e,weight:t})=>Array(t).fill(e)),R=new FileReader;R.addEventListener("load",e=>{i=new Image,i.addEventListener("load",()=>c()),i.src=e.target.result});var p=new Image;p.src="public/logo-light.png";var A=new Image;A.src="public/logo-dark.png";var i=new Image,b="Test text",w=async()=>{let e=await fetch(f(P));return new Promise(t=>{let n=new Image;n.addEventListener("load",()=>{i=n,t()}),n.crossOrigin="anonymous",n.src=e.url})},I=()=>{b=f(T)},r=document.getElementById("picture"),o=r.getContext("2d"),O=new FontFace("Bebas Neue","url(public/BebasNeue-Bold.ttf)"),S=async()=>{await O.load(),document.fonts.add(O)},F=e=>{!e.type.startsWith("image/")||R.readAsDataURL(e)};r.addEventListener("dragover",e=>e.preventDefault());r.addEventListener("drop",e=>{e.preventDefault(),!(!e.dataTransfer||e.dataTransfer.files.length<=0)&&F(e.dataTransfer.files[0])});var c=async()=>{o.fillStyle="black",o.fillRect(0,0,r.width,r.height);let e=r.width/i.width,t=r.height/i.height,n=Math.max(e,t);o.setTransform(n,0,0,n,0,0),o.drawImage(i,0,0),o.setTransform();let a=o.getImageData(y,k,p.width,p.height).data;x(a)>C?o.drawImage(A,y,k):o.drawImage(p,y,k);let u=L(b,20).reverse(),d=u.length<5?60:40;o.font=`${d}px 'Bebas Neue'`,u.forEach((m,l)=>{let z=30,E=685,g=15,v=g+d;o.fillStyle="#f9dc4d",o.fillRect(z,E-l*v,o.measureText(m).width+2*g,v),o.textBaseline="top",o.fillStyle="black",o.fillText(m,z+g,E+g-l*v)})},_=document.getElementById("randomize");_.addEventListener("click",async()=>{I(),await w(),c()});var H=document.getElementById("randomize-img");H.addEventListener("click",async()=>{await w(),c()});var G=document.getElementById("randomize-text");G.addEventListener("click",()=>{I(),c()});var D=document.getElementById("customImage");D.addEventListener("change",e=>{e.preventDefault(),!(e.target.files.length<=0)&&F(e.target.files[0])});var U=document.getElementById("customImageBtn");U.addEventListener("click",()=>{D.click()});var h=document.getElementById("customText"),M=async e=>{(e.type==="input"||h.value)&&(b=h.value,c())};h.addEventListener("click",M);h.addEventListener("input",M);var j=document.createElement("a");j.setAttribute("download","PirStanKampan.jpg");var W=document.getElementById("save");W.addEventListener("click",e=>{e.preventDefault(),j.setAttribute("href",r.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream")),j.click()});S();I();w().then(()=>c());
//# sourceMappingURL=index.js.map
